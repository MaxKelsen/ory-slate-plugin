{"version":3,"sources":["../../src/plugins/indentation.js"],"names":["React","IndentDecreaseIcon","IndentIncreaseIcon","ToolbarButton","Plugin","IndentationPlugin","createButton","action","icon","editorState","onChange","onClick","e","preventDefault","indent","align","blocks","some","block","data","get","transform","setBlock","apply","name","toolbarButtons"],"mappings":";;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,kBAAP,MAA+B,wCAA/B;AACA,OAAOC,kBAAP,MAA+B,wCAA/B;;AAEA,SAASC,aAAT,QAA8B,YAA9B;AACA,OAAOC,MAAP,MAAmB,UAAnB;;IAGqBC,iB;;;;;;;;;;;;;;4MAIjBC,Y,GAAe,UAACC,MAAD,EAASC,IAAT;AAAA,aAAkB,iBAAsC;AAAA,YAAnCC,WAAmC,SAAnCA,WAAmC;AAAA,YAAtBC,QAAsB,SAAtBA,QAAsB;;AACrE,YAAMC,UAAU,SAAVA,OAAU,IAAK;AACnBC,YAAEC,cAAF;;AAEA,cAAIC,SAAS,CAAb;AACA,cAAIC,cAAJ;AACAN,sBAAYO,MAAZ,CAAmBC,IAAnB,CACE,iBAAS;AACPF,oBAAQG,MAAMC,IAAN,CAAWC,GAAX,CAAe,OAAf,CAAR;AACA,gBAAIF,MAAMC,IAAN,CAAWC,GAAX,CAAe,QAAf,CAAJ,EAA8B;AAC5BN,uBAASI,MAAMC,IAAN,CAAWC,GAAX,CAAe,QAAf,CAAT;AACA,qBAAO,IAAP;AACD;AACF,WAPH;;AAUA,cAAGN,UAAU,CAAb,EAAgB;AACd,gBAAGP,WAAW,QAAd,EAAwB;AACtBO,wBAAU,CAAV;AACD,aAFD,MAEO,IAAGA,SAAS,CAAZ,EAAe;AACpBA,wBAAU,CAAV;AACD;AACF,WAND,MAMO;AACL,gBAAGP,WAAW,QAAd,EAAwB;AACtBO,uBAAS,CAAT;AACD;AACF;;AAEDJ,mBACED,YACGY,SADH,GAEGC,QAFH,CAEY,EAAEH,MAAM,EAAEL,cAAF,EAAUC,YAAV,EAAR,EAFZ,EAGGQ,KAHH,EADF;AAMD,SAjCD;;AAoCA,eAAO,oBAAC,aAAD,IAAe,SAASZ,OAAxB,EAAiC,MAAMH,IAAvC,GAAP;AACD,OAtCc;AAAA,K,QAwCfgB,I,GAAO,a,QAEPC,c,GAAiB,CACf,MAAKnB,YAAL,CAAkB,QAAlB,EAA4B,oBAAC,kBAAD,OAA5B,CADe,EAEf,MAAKA,YAAL,CAAkB,UAAlB,EAA8B,oBAAC,kBAAD,OAA9B,CAFe,C;;;AA3CjB;;;;EAH2CF,M;;eAA1BC,iB","file":"indentation.js","sourcesContent":["/* eslint-disable prefer-reflect */\nimport React from 'react'\nimport IndentDecreaseIcon from 'material-ui-icons/FormatIndentDecrease';\nimport IndentIncreaseIcon from 'material-ui-icons/FormatIndentIncrease';\n\nimport { ToolbarButton } from '../helpers'\nimport Plugin from './Plugin'\nimport type { Props } from './props'\n\nexport default class IndentationPlugin extends Plugin {\n    props: Props\n  \n    // eslint-disable-next-line react/display-name\n    createButton = (action, icon) => ({ editorState, onChange }: Props) => {\n      const onClick = e => {\n        e.preventDefault()\n\n        let indent = 0\n        let align;\n        editorState.blocks.some(\n          block => {\n            align = block.data.get('align')\n            if (block.data.get('indent')) {\n              indent = block.data.get('indent')\n              return true\n            }\n          }\n        )\n\n        if(indent != 0) {\n          if(action === 'indent') {\n            indent += 1\n          } else if(indent > 0) {\n            indent -= 1\n          }\n        } else {\n          if(action === 'indent') {\n            indent = 1\n          }\n        }\n\n        onChange(\n          editorState\n            .transform()\n            .setBlock({ data: { indent, align } })\n            .apply()\n        )\n      }\n\n\n      return <ToolbarButton onClick={onClick} icon={icon} />\n    }\n  \n    name = 'indentation'\n  \n    toolbarButtons = [\n      this.createButton('indent', <IndentIncreaseIcon />),      \n      this.createButton('unindent', <IndentDecreaseIcon />),\n    ]\n  }\n  "]}