{"version":3,"sources":["../../src/plugins/headings.js"],"names":["React","H1Icon","H2Icon","H3Icon","H4Icon","H5Icon","H6Icon","makeTagNode","ToolbarButton","Plugin","H1","H2","H3","H4","H5","H6","createNode","type","el","next","kind","nodes","childNodes","HeadingsPlugin","props","createButton","icon","editorState","onChange","onClick","e","preventDefault","isActive","blocks","some","block","transform","setBlock","DEFAULT_NODE","apply","name","toolbarButtons","deserialize","tagName","toLowerCase","serialize","object","children","style","textAlign","data","get"],"mappings":"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","file":"headings.js","sourcesContent":["/* eslint-disable prefer-reflect, default-case, react/display-name */\nimport React from 'react'\nimport H1Icon from 'material-ui-icons/LooksOne'\nimport H2Icon from 'material-ui-icons/LooksTwo'\nimport H3Icon from 'material-ui-icons/Looks3'\nimport H4Icon from 'material-ui-icons/Looks4'\nimport H5Icon from 'material-ui-icons/Looks5'\nimport H6Icon from 'material-ui-icons/Looks6'\n// import { Data } from 'slate'\nimport { makeTagNode, ToolbarButton } from '../helpers'\nimport Plugin from './Plugin'\nimport type { Props } from './props'\n\nexport const H1 = 'HEADINGS/HEADING-ONE'\nexport const H2 = 'HEADINGS/HEADING-TWO'\nexport const H3 = 'HEADINGS/HEADING-THREE'\nexport const H4 = 'HEADINGS/HEADING-FOUR'\nexport const H5 = 'HEADINGS/HEADING-FIVE'\nexport const H6 = 'HEADINGS/HEADING-SIX'\n\nconst createNode = (type: string, el: any, next: any) => ({\n  kind: 'block',\n  type,\n  // data: Data.create({ style: el.attribs.style }),\n  nodes: next(el.childNodes)\n})\n\nexport default class HeadingsPlugin extends Plugin {\n  constructor(props: Props) {\n    super(props)\n\n    this.DEFAULT_NODE = props.DEFAULT_NODE\n  }\n\n  props: Props\n\n  // eslint-disable-next-line react/display-name\n  createButton = (type, icon) => ({ editorState, onChange }: Props) => {\n    const onClick = e => {\n      e.preventDefault()\n\n      const isActive = editorState.blocks.some(block => block.type === type)\n\n      onChange(\n        editorState\n          .transform()\n          .setBlock(isActive ? this.DEFAULT_NODE : type)\n          .apply()\n      )\n    }\n\n    const isActive = editorState.blocks.some(block => block.type === type)\n\n    return <ToolbarButton onClick={onClick} isActive={isActive} icon={icon} />\n  }\n\n  name = 'headings'\n\n  nodes = {\n    [H1]: makeTagNode('h1'),\n    [H2]: makeTagNode('h2'),\n    [H3]: makeTagNode('h3'),\n    [H4]: makeTagNode('h4'),\n    [H5]: makeTagNode('h5'),\n    [H6]: makeTagNode('h6')\n  }\n\n  toolbarButtons = [\n    this.createButton(H1, <H1Icon />),\n    this.createButton(H2, <H2Icon />),\n    this.createButton(H3, <H3Icon />),\n    this.createButton(H4, <H4Icon />),\n    this.createButton(H5, <H5Icon />),\n    this.createButton(H6, <H6Icon />)\n  ]\n\n  deserialize = (el, next) => {\n    switch (el.tagName.toLowerCase()) {\n      case 'h1':\n        return createNode(H1, el, next)\n      case 'h2':\n        return createNode(H2, el, next)\n      case 'h3':\n        return createNode(H3, el, next)\n      case 'h4':\n        return createNode(H4, el, next)\n      case 'h5':\n        return createNode(H5, el, next)\n      case 'h6':\n        return createNode(H6, el, next)\n    }\n  }\n\n  serialize = (\n    object: { type: string, kind: string, data: any },\n    children: any[]\n  ) => {\n    if (object.kind !== 'block') {\n      return\n    }\n    const style = { textAlign: object.data.get('align') }\n\n    switch (object.type) {\n      case H1:\n        return <h1 style={style}>{children}</h1>\n      case H2:\n        return <h2 style={style}>{children}</h2>\n      case H3:\n        return <h3 style={style}>{children}</h3>\n      case H4:\n        return <h4 style={style}>{children}</h4>\n      case H5:\n        return <h5 style={style}>{children}</h5>\n      case H6:\n        return <h6 style={style}>{children}</h6>\n    }\n  }\n}\n"]}